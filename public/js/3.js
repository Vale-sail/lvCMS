webpackJsonp([3],{101:function(e,s,t){t(536);var r=t(27)(t(263),t(524),null,null);e.exports=r.exports},263:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={props:["power"],mounted:function(){this.init()},data:function(){return{loading1:!1,newUser:{account:"",password:"",name:"",role:""},options:{},newUserRules:{account:[{required:!0,message:"请输入角色账号",trigger:"blur"},{min:6,max:30,message:"长度在 6到 30 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入角色密码",trigger:"blur"},{min:6,max:18,message:"长度在 6到 18 个字符",trigger:"blur"}],name:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],role:[{required:!0,type:"number",message:"请选择用户身份"}]},addButton:!1}},methods:{init:function(){this.loading1=!0,this.$message.info("正在获取信息"),this.$http.get("/addUser",{}).then(function(e){e.body.result?(this.options=e.body.options,this.$message.success("获取信息成功")):this.$message.error({title:"失败",message:e.body.msg}),this.loading1=!1}).catch(function(e){if(422==e.status){for(var s in e.body){var t=e.body[s];this.$message.error(t[0])}}else this.$message.error("错误：状态码"+e.status);this.loading1=!1})},addOneUser:function(){var e=this;this.$refs.newUser.validate(function(s){s&&(e.addButton=!0,e.$message.info("正在提交信息"),e.loading1=!0,e.$http.post("/admin/addUser/addOneUser",{newUser:e.newUser}).then(function(e){e.body.result?this.$message({title:"成功",message:"添加用户成功",type:"success"}):this.$message.error({title:"失败",message:e.body.msg}),this.loading1=!1,this.addButton=!1}).catch(function(e){if(422==e.status){for(var s in e.body){var t=e.body[s];this.$message.error(t[0])}}else this.$message.error("错误：状态码"+e.status);this.addButton=!1,this.loading1=!1}))})},resetForm:function(){this.$refs.newUser.resetFields()}}}},268:function(e,s,t){s=e.exports=t(7)(),s.push([e.i,".addOneUser{width:30%;margin:100px auto}",""])},524:function(e,s){e.exports={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading1,expression:"loading1"}],attrs:{"element-loading-text":"加载中"}},[t("el-card",{staticClass:"addOneUser"},[t("div",{staticClass:"clearfix",slot:"header"},[t("span",{staticStyle:{"line-height":"36px"}},[e._v("添加用户")])]),e._v(" "),t("div",{staticClass:" "},[t("el-form",{ref:"newUser",attrs:{model:e.newUser,rules:e.newUserRules,"label-width":"50px"}},[t("el-form-item",{attrs:{label:"账号",prop:"account"}},[t("el-input",{model:{value:e.newUser.account,callback:function(s){e.newUser.account=s},expression:"newUser.account"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{model:{value:e.newUser.password,callback:function(s){e.newUser.password=s},expression:"newUser.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{model:{value:e.newUser.name,callback:function(s){e.newUser.name=s},expression:"newUser.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"角色",prop:"role"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.newUser.role,callback:function(s){e.newUser.role=s},expression:"newUser.role"}},e._l(e.options,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id,disabled:e.disable}})}))],1),e._v(" "),t("el-form-item",[e.power.indexOf("addOneUser")>0?t("el-button",{attrs:{type:"primary",disable:e.addButton},on:{click:function(s){e.addOneUser()}}},[e._v("提交")]):e._e(),e._v(" "),t("el-button",{on:{click:function(s){e.resetForm()}}},[e._v("重置")])],1)],1)],1)])],1)},staticRenderFns:[]}},536:function(e,s,t){var r=t(268);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t(28)("a0d3e47e",r,!0)}});